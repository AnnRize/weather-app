import{g as w,u as k,W as L}from"./getTemp-BieAkr8R.js";import{d as f,o as i,c,a as s,t as o,u as n,n as t,F as $,_ as v,r as g,g as _,h as W,p as F,i as T,b as z,e as S,f as D}from"./index-CTKlNyyi.js";const V="/weather-app/pressure.svg",I="/weather-app/humidity.svg",M="/weather-app/wind.svg",b=r=>{const e=new Date(r*1e3);return e.setHours(e.getHours()-3),e.toLocaleDateString("ru-RU",{day:"numeric",month:"long"})},B=r=>{const e=new Date(r*1e3);return e.setHours(e.getHours()-3),e.toLocaleTimeString("ru-RU",{hour:"numeric",minute:"numeric"})},H=["src","alt","title"],N=f({__name:"ForecastDay",props:{day:{}},setup(r){return(e,y)=>(i(),c($,null,[s("div",{class:t(e.$style.tempWrapper)},[s("p",null,o(n(B)(e.day.dt)),1),s("p",null,o(n(w)(e.day.main.temp))+"°",1)],2),s("div",{class:t(e.$style.descriptionWrapper)},[s("img",{src:`https://openweathermap.org/img/wn/${e.day.weather[0].icon}@2x.png`,alt:e.day.weather[0].description,title:e.day.weather[0].description},null,8,H),s("div",{class:t(e.$style.description)},o(e.day.weather[0].description),3)],2),s("div",{class:t(e.$style.pressure)},o(e.day.main.pressure),3),s("div",{class:t(e.$style.humidity)},o(e.day.main.humidity)+"%",3),s("div",{class:t(e.$style.wind)},o(e.day.wind.speed),3),s("div",{class:t(e.$style.feelsLike)},o(n(w)(e.day.main.feels_like))+"°",3)],64))}}),C="_tempWrapper_17okd_1",E="_descriptionWrapper_17okd_8",j="_description_17okd_8",q="_pressure_17okd_25",O="_humidity_17okd_29",R="_wind_17okd_33",U="_feelsLike_17okd_37",K={tempWrapper:C,descriptionWrapper:E,description:j,pressure:q,humidity:O,wind:R,feelsLike:U},Q={$style:K},A=v(N,[["__cssModules",Q],["__scopeId","data-v-5c33d07f"],["__file","ForecastDay.vue"]]),u=r=>(F("data-v-b1bc1273"),r=r(),T(),r),G=u(()=>s("br",null,null,-1)),J=u(()=>s("img",{src:V,alt:"",width:"25"},null,-1)),P=u(()=>s("img",{src:I,alt:"",width:"25"},null,-1)),X=u(()=>s("br",null,null,-1)),Y=u(()=>s("img",{src:M,alt:"",width:"25"},null,-1)),Z=f({__name:"ForecastList",props:{forecast:{}},setup(r){return(e,y)=>(i(),c("div",{class:t(e.$style.forecastList)},[(i(!0),c($,null,g(e.forecast.list,(l,m)=>{var a,d;return i(),c("div",{class:t(e.$style.tableWrapper),key:m},[s("div",{class:t(e.$style.grid)},[s("div",{class:t(e.$style.date)},[s("span",{class:t(e.$style.day)},o(n(b)((a=l[0])==null?void 0:a.dt).split(" ")[0]),3),_(" "+o(n(b)((d=l[0])==null?void 0:d.dt).split(" ")[1]),1)],2),s("div",{class:t(e.$style.pressure)},[s("span",{class:t(e.$style.descText)},[_(" Давление,"),G,_(" мм рт. ст. ")],2),J],2),s("div",{class:t(e.$style.humidity)},[s("span",{class:t(e.$style.descText)}," Влажность ",2),P],2),s("div",{class:t(e.$style.wind)},[s("span",{class:t(e.$style.descText)},[_(" Ветер,"),X,_(" м/с ")],2),Y],2),s("div",{class:t(e.$style.feelsLike)},[s("span",{class:t(e.$style.descText)}," Ощущается как ",2)],2),s("div",{class:t(e.$style.space)},null,2),(i(!0),c($,null,g(l,p=>(i(),W(A,{key:p.dt,day:p},null,8,["day"]))),128))],2)],2)}),128))],2))}}),x="_forecastList_1nebz_1",ee="_tableWrapper_1nebz_7",se="_grid_1nebz_14",te="_date_1nebz_23",re="_day_1nebz_28",ae="_pressure_1nebz_31",oe="_humidity_1nebz_34",ie="_wind_1nebz_37",ne="_feelsLike_1nebz_40",ce="_space_1nebz_43",de="_descText_1nebz_48",le={forecastList:x,tableWrapper:ee,grid:se,date:te,day:re,pressure:ae,humidity:oe,wind:ie,feelsLike:ne,space:ce,descText:de},pe={$style:le},_e=v(Z,[["__cssModules",pe],["__scopeId","data-v-b1bc1273"],["__file","ForecastList.vue"]]),ue={key:0},ye={key:1},me=f({__name:"ForecastView",setup(r){const{coordsStore:{coordinates:e}}=z(),{data:y,isLoading:l,isError:m}=k({queryKey:["forecast",e],queryFn:async()=>await L.getForecast(e.latitude,e.longitude),select(a){if(a){let d=[],p=Object.groupBy(a.list,({dt_txt:h})=>h.split(" ")[0]);for(const h in p)d.push(p[h]);return{...a,list:d}}else return a}});return(a,d)=>n(l)?(i(),c("div",ue,"Loading...")):n(m)?(i(),c("div",ye,"Error")):n(y)?(i(),c("div",{key:2,class:t(a.$style.container)},[S(_e,{forecast:n(y)},null,8,["forecast"])],2)):D("",!0)}}),he="_container_ucuvb_1",$e={container:he},fe={$style:$e},ge=v(me,[["__cssModules",fe],["__scopeId","data-v-eefc4d0c"],["__file","ForecastView.vue"]]);export{ge as default};
